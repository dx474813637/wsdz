require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/broker/prod_edit"],{"01af":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=u(t("a34a"));function u(e){return e&&e.__esModule?e:{default:e}}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n,t,o,u,i,r){try{var a=e[i](r),c=a.value}catch(s){return void t(s)}a.done?n(c):Promise.resolve(c).then(o,u)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(o,u){var i=e.apply(n,t);function r(e){c(i,o,u,r,a,"next",e)}function a(e){c(i,o,u,r,a,"throw",e)}r(void 0)}))}}var l=function(){t.e("pages/my/components/uni-section/uni-section").then(function(){return resolve(t("96c4"))}.bind(null,t)).catch(t.oe)},d={data:function(){return{pid:"",product:"",show:!1,model:{product_id:"",name:"uView UI",unit:"",attr_common_12:"",attr_common_11:"",attr_common_13:"",attr_common_14:"",intro:"",type:"bs",img:""},list:[{label:"菜单1",value:"caidan1"},{label:"菜单2",value:"caidan2"},{label:"菜单3",value:"caidan3"},{label:"菜单4",value:"caidan4"},{label:"菜单21",value:"caidan21"},{label:"菜单31",value:"caidan31"},{label:"菜单41",value:"caidan41"}],fileList1:[],radiolist_type:[{name:"买盘",disabled:!1,value:"b"},{name:"卖盘",disabled:!1,value:"s"},{name:"均可",disabled:!1,value:"bs"}]}},computed:{rules:function(){return{product_id:{type:"string",required:!0,message:"请选择商品",trigger:["blur","change"]},name:{type:"string",required:!0,message:"请填写名称",trigger:["blur","change"]}}},candidates:function(){return this.list.map((function(e){return e.label}))}},onLoad:function(n){n.hasOwnProperty("pid")?this.pid=n.pid:e.setNavigationBarTitle({title:"交易商品名添加"})},components:{uniSection:l},onReady:function(){this.$refs.from.setRules(this.rules)},methods:{menusConfirm:function(n){var t=this;return s(o.default.mark((function u(){return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:console.log(n),e.showToast({title:"点击了：".concat(n.name,"项"),icon:"none"}),t.product=n.name,t.model.product_id=n.pid,t.show=!1;case 5:case"end":return o.stop()}}),u)})))()},typeSelect:function(e){console.log(e),this.model.type=e.value,this.type=e.name},showActions:function(){this.showType=!0,e.hideKeyboard()},submit:function(){var n=this;this.$refs.from.validate().then(function(){var t=s(o.default.mark((function t(u){var i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.$api.editProd(r(r({},n.model.prod),{},{id:n.pid}));case 2:i=t.sent,console.log(i),1==i.code&&(n.$utils.prePage()&&n.$utils.prePage().refreshList(),e.showToast({title:i.msg,icon:"none"}),setTimeout((function(){e.navigateBack()}),800));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(n){e.$u.toast("校验失败")}))},deletePic:function(e){this["fileList".concat(e.name)].splice(e.index,1)},afterRead:function(e){var n=this;return s(o.default.mark((function t(){var u,i,a,c,s;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:u=[].concat(e.file),i=n["fileList".concat(e.name)].length,u.map((function(t){n["fileList".concat(e.name)].push(r(r({},t),{},{status:"uploading",message:"上传中"}))})),a=0;case 4:if(!(a<u.length)){t.next=14;break}return t.next=7,n.uploadFilePromise(u[a].url);case 7:c=t.sent,s=n["fileList".concat(e.name)][i],n["fileList".concat(e.name)].splice(i,1,Object.assign(s,{status:"success",message:"",url:c})),i++;case 11:a++,t.next=4;break;case 14:case"end":return t.stop()}}),t)})))()},uploadFilePromise:function(n){return new Promise((function(t,o){e.uploadFile({url:"http://192.168.2.21:7001/upload",filePath:n,name:"file",formData:{user:"test"},success:function(e){setTimeout((function(){t(e.data.data)}),1e3)}})}))},comboxBlur:function(e){var n=this.candidates.indexOf(e);-1!=n?(this.model.product_id=this.list[n].value,this.product=e):(this.model.product_id="",this.product=""),this.$refs.from.validateField("product_id")}}};n.default=d}).call(this,t("543d")["default"])},"5a6e":function(e,n,t){"use strict";t.r(n);var o=t("f637"),u=t("fee0");for(var i in u)"default"!==i&&function(e){t.d(n,e,(function(){return u[e]}))}(i);t("84ee");var r,a=t("f0c5"),c=Object(a["a"])(u["default"],o["b"],o["c"],!1,null,"06739bc6",null,!1,o["a"],r);n["default"]=c.exports},6208:function(e,n,t){},"84ee":function(e,n,t){"use strict";var o=t("6208"),u=t.n(o);u.a},dc1b:function(e,n,t){"use strict";(function(e){t("0d45");o(t("66fd"));var n=o(t("5a6e"));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t("543d")["createPage"])},f637:function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}));var o={"u-Form":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--form/u--form")]).then(t.bind(null,"1442"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"8639"))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-input/u-input")]).then(t.bind(null,"cf8b"))},menusPopup:function(){return Promise.all([t.e("common/vendor"),t.e("components/menusPopup/menusPopup")]).then(t.bind(null,"5fc9"))},"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,"1ddf"))},uRadioGroup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-radio-group/u-radio-group")]).then(t.bind(null,"046b2"))},uRadio:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-radio/u-radio")]).then(t.bind(null,"d568"))},uUpload:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-upload/u-upload")]).then(t.bind(null,"5840"))},"u-Textarea":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--textarea/u--textarea")]).then(t.bind(null,"64da"))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,"78a9"))}},u=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){e.show=!0},e.e1=function(n){e.show=!1})},i=[]},fee0:function(e,n,t){"use strict";t.r(n);var o=t("01af"),u=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=u.a}},[["dc1b","common/runtime","common/vendor"]]]);