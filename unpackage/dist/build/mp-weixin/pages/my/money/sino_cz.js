require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/money/sino_cz"],{"0928":function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return o}));var o={uNavbar:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(t.bind(null,"554d"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"67bb"))},"u-Form":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--form/u--form")]).then(t.bind(null,"1442"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"8639"))},uRadioGroup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-radio-group/u-radio-group")]).then(t.bind(null,"046b2"))},uRadio:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-radio/u-radio")]).then(t.bind(null,"d568"))},"u-Input":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--input/u--input")]).then(t.bind(null,"1ddf"))},"u-Text":function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u--text/u--text")]).then(t.bind(null,"f9cd"))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,"78a9"))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,"5244"))},uList:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-list/u-list")]).then(t.bind(null,"54c6"))},uListItem:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-list-item/u-list-item")]).then(t.bind(null,"36e1"))},uLoadingIcon:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-loading-icon/u-loading-icon")]).then(t.bind(null,"304b"))},uEmpty:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-empty/u-empty")]).then(t.bind(null,"4d83"))},uLoadmore:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-loadmore/u-loadmore")]).then(t.bind(null,"9791"))},uModal:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-modal/u-modal")]).then(t.bind(null,"e050"))},uCodeInput:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uview-ui/components/u-code-input/u-code-input")]).then(t.bind(null,"5e3f"))}},r=function(){var e=this,n=e.$createElement,t=(e._self._c,{backgroundColor:e.textObj.themeColor,borderColor:e.textObj.themeColor});e._isMounted||(e.e0=function(n){e.codeInputShow=!1}),e.$mp.data=Object.assign({},{$root:{a0:t}})},u=[]},"2cd1":function(e,n,t){"use strict";t.r(n);var o=t("0928"),r=t("c335");for(var u in r)"default"!==u&&function(e){t.d(n,e,(function(){return r[e]}))}(u);t("62ac"),t("7608");var i,a=t("f0c5"),c=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,"3a3d6d3a",null,!1,o["a"],i);n["default"]=c.exports},"2f18":function(e,n,t){},"40c8":function(e,n,t){"use strict";(function(e){t("0d45");o(t("66fd"));var n=o(t("2cd1"));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t("543d")["createPage"])},"5a61":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=u(t("a34a")),r=t("26cb");function u(e){return e&&e.__esModule?e:{default:e}}function i(e){return l(e)||s(e)||c(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,n){if(e){if("string"===typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return d(e)}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function m(e,n,t,o,r,u,i){try{var a=e[u](i),c=a.value}catch(s){return void t(s)}a.done?n(c):Promise.resolve(c).then(o,r)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(o,r){var u=e.apply(n,t);function i(e){m(u,o,r,i,a,"next",e)}function a(e){m(u,o,r,i,a,"throw",e)}i(void 0)}))}}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=function(){t.e("pages/my/components/BankCard/BankCard").then(function(){return resolve(t("05b5"))}.bind(null,t)).catch(t.oe)},g={data:function(){return{cz:1,cztype:"直接充值",bankPopup:!1,codeInputShow:!1,focus:!1,code:"",bank:{id:"",name:""},model:{money:"",bind_id:"",bz:""},indexList:[],curP:1,loadstatus:"loadmore"}},components:{BankCard:v},onLoad:function(e){e.hasOwnProperty("cz")&&(this.cz=e.cz),this.getData()},computed:h(h({},(0,r.mapState)({typeConfig:function(e){return e.theme.typeConfig}})),{},{rules:function(){return"2"!=this.cz?{money:[{type:"number",required:!0,message:"请填写金额数值",trigger:["blur","change"]},{validator:function(e,n,t){return n>0},message:"金额数值必须大于0"}],bind_id:{type:"string",required:!0,message:"请选择银行卡",trigger:["blur","change"]}}:{money:[{type:"number",required:!0,message:"请填写金额数值",trigger:["blur","change"]},{validator:function(e,n,t){return n>0},message:"金额数值必须大于0"}]}},money:function(){return this.model.money?this.model.money-this.sxf:0},sxf:function(){return this.model.money?0*this.model.money:0},textObj:function(){return 1==this.cz?{title:"我要充值",label:"充值",themeColor:"#d34c3c",sub:""}:0==this.cz?{title:"提现申请",label:"提现",themeColor:"#408df4",sub:"提现提前绑定好提现银行卡，且有可提余额。"}:2==this.cz?{title:"转账到同名账户",label:"转账",themeColor:"#408df4",sub:""}:void 0}}),onReady:function(){this.$refs.form.setRules(this.rules)},methods:h(h({},(0,r.mapMutations)({handleGoto:"user/handleGoto"})),{},{refreshList:function(){"2"!=this.cz&&(this.initParamas(),this.getData())},initParamas:function(){this.curP=1,this.indexList=[],this.loadstatus="loadmore"},scrolltolower:function(){this.getMoreData()},getData:function(){var e=this;return f(o.default.mark((function n(){var t;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("loadmore"==e.loadstatus&&"2"!=e.cz){n.next=2;break}return n.abrupt("return");case 2:return e.loadstatus="loading",n.next=5,e.$api.getBankcardList();case 5:t=n.sent,1==t.code&&(e.indexList=[].concat(i(e.indexList),i(t.data)),e.curP==t.page_total?e.loadstatus="nomore":e.loadstatus="loadmore");case 7:case"end":return n.stop()}}),n)})))()},getMoreData:function(){var e=this;return f(o.default.mark((function n(){return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("loadmore"==e.loadstatus){n.next=2;break}return n.abrupt("return");case 2:return e.curP++,n.next=5,e.getData();case 5:case"end":return n.stop()}}),n)})))()},bankClose:function(){this.bankPopup=!1},bankOpen:function(){},submit:function(){var n=this;this.$refs.form.validate().then(function(){var t=f(o.default.mark((function t(r){var u;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showLoading(),t.next=3,n.$api.czApply(h({},n.model));case 3:u=t.sent,console.log(u),1==u.code&&("2"!=n.cz?(n.codeInputShow=!0,e.showToast({title:u.msg,icon:"none"}),n.$nextTick((function(){n.focus=!0}))):(e.showToast({title:u.msg,icon:"none"}),setTimeout((function(){e.redirectTo({url:"/pages/my/money/index"})}),1e3)));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(n){e.$u.toast("校验失败")}))},handleGetCode:function(){var n=this;return f(o.default.mark((function t(){return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.btnDisabled){t.next=2;break}return t.abrupt("return");case 2:n.$refs.form.validateField("base.phone",function(){var t=f(o.default.mark((function t(r){var u;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(r.length>0)){t.next=2;break}return t.abrupt("return");case 2:return n.btnDisabled=!0,t.next=5,n.$api.getPhoneCode();case 5:u=t.sent,1==u.code&&e.showToast({title:u.msg,icon:"none"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()},handleCountDownFinish:function(){this.btnDisabled=!1},handleSelectBankcard:function(){this.bankPopup=!0},handleClick:function(e){this.bank.name=e.name,this.model.bind_id="321321",this.bankClose()},handleBack:function(){e.redirectTo({url:"/pages/my/money/index"})},handleSumbitCode:function(){var n=this;return f(o.default.mark((function t(){var r;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showLoading(),t.next=3,n.$api.valPhoneCode();case 3:r=t.sent,1==r.code&&(e.showToast({title:r.msg,icon:"none"}),setTimeout((function(){e.redirectTo({url:"/pages/my/money/index"})}),1e3));case 5:case"end":return t.stop()}}),t)})))()}})};n.default=g}).call(this,t("543d")["default"])},"62ac":function(e,n,t){"use strict";var o=t("8b6d"),r=t.n(o);r.a},7608:function(e,n,t){"use strict";var o=t("2f18"),r=t.n(o);r.a},"8b6d":function(e,n,t){},c335:function(e,n,t){"use strict";t.r(n);var o=t("5a61"),r=t.n(o);for(var u in o)"default"!==u&&function(e){t.d(n,e,(function(){return o[e]}))}(u);n["default"]=r.a}},[["40c8","common/runtime","common/vendor"]]]);